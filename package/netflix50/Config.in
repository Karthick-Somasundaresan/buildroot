config BR2_PACKAGE_NETFLIX50
	bool "Netflix"
    select BR2_PACKAGE_C_ARES
	select BR2_PACKAGE_EXPAT
	select BR2_PACKAGE_FREETYPE
	select BR2_PACKAGE_HARFBUZZ
	select BR2_PACKAGE_ICU
	select BR2_PACKAGE_JPEG
	select BR2_PACKAGE_LIBCURL
	select BR2_PACKAGE_LIBMNG
    select BR2_PACKAGE_LIBNL
	select BR2_PACKAGE_LIBPNG
	select BR2_PACKAGE_NGHTTP2
	select BR2_PACKAGE_OPENSSL
	select BR2_PACKAGE_WEBP
    select BR2_PACKAGE_ZLIB
	# TODO: seems like they are not needed
	# select BR2_PACKAGE_OPENJPEG
	# select BR2_PACKAGE_LCMS2
	# select BR2_PACKAGE_C_ARES
	# select BR2_PACKAGE_GRAPHITE2
	# select BR2_PACKAGE_LIBOPENH264
	# select BR2_PACKAGE_FDK_AAC
	help
		Netflix (NRDP)

if BR2_PACKAGE_NETFLIX50

menu "Extra options"

choice
	bool "Netflix Version"
	default BR2_PACKAGE_NETFLIX50_5
	help
        Choose Netflix (NRDP) version

config BR2_PACKAGE_NETFLIX50_5
	bool "5.0.5"
	help
        Netflix NRDP 5.0.5

config BR2_PACKAGE_NETFLIX50_6
	bool "5.0.6"
	help
        Netflix NRDP 5.0.6

endchoice

choice
	bool "Build Type"
	default BR2_PACKAGE_NETFLIX50_BUILD_RELEASE
	help
        Choose build Type

config BR2_PACKAGE_NETFLIX50_BUILD_ML
	bool "Metrological"
	help
        Build with the original metrological flags

config BR2_PACKAGE_NETFLIX50_BUILD_DEBUG
	bool "Debug"
	help
        Build a debug build with tracing and symbols

config BR2_PACKAGE_NETFLIX50_BUILD_RELEASE_DEBUG
	bool "Release Debug"
	help
        Build a debug build with tracing and symbols and production code on (strict SSL/HTTPS).

config BR2_PACKAGE_NETFLIX50_BUILD_RELEASE
	bool "Release"
	select BR2_PACKAGE_NETFLIX50_MINIFY_JS
	help
        Build a release build without tracing and symbols (e.g. for binary delivery)

endchoice

choice
	bool "Application type"
	default BR2_PACKAGE_NETFLIX50_LIB
	help
        Choose application type.

config BR2_PACKAGE_NETFLIX50_APP
	bool "executable"
	help
        Create Netflix standalone app.

config BR2_PACKAGE_NETFLIX50_LIB
	bool "library"
	help
        Create Netflix library.

endchoice

config BR2_PACKAGE_NETFLIX50_KEYMAP
	string "keymap"
	help
        Install custom keymap

config BR2_PACKAGE_NETFLIX50_WESTEROS_SINK
	bool "westeros-sink"
	depends on BR2_PACKAGE_WPEFRAMEWORK_COMPOSITOR
	default n

config BR2_PACKAGE_NETFLIX50_AUDIO_MIXER
        bool "audio-mixer"
        select BR2_PACKAGE_TREMOR
		select BR2_PACKAGE_LIBOGG

if BR2_PACKAGE_NETFLIX50_AUDIO_MIXER

choice
	bool "Audio Mixer type"
	default BR2_PACKAGE_NETFLIX50_AUDIO_MIXER_SOFTWARE
	help
        Choose Audio Mixer type

config BR2_PACKAGE_NETFLIX50_AUDIO_MIXER_SOFTWARE
	bool "software"
	help
        Software Audio Mixer

config BR2_PACKAGE_NETFLIX50_AUDIO_MIXER_NEXUS
	bool "nexus"
	depends on BR2_PACKAGE_HAS_NEXUS
	help
        Nexus Audio Mixer

endchoice
endif

choice
	bool "DRM"
	default BR2_PACKAGE_NETFLIX50_DRM_OCDM
	help
        Choose DRM Type

config BR2_PACKAGE_NETFLIX50_DRM_PLAYREADY
	bool "playready"
	select BR2_PACKAGE_PLAYREADY
	help
        DRM Playready

config BR2_PACKAGE_NETFLIX50_DRM_OCDM
	bool "ocdm"
	depends on BR2_PACKAGE_WPEFRAMEWORK_CDMI
	help
        DRM Ocdm

config BR2_PACKAGE_NETFLIX50_DRM_NONE
	bool "none"
	help
        DRM None - no DRM system

endchoice

config BR2_PACKAGE_NETFLIX50_DISABLE_TOOLS
	bool "Disable tools"
	default y
	help
        Do not build tools for netflix

config BR2_PACKAGE_NETFLIX50_MINIFY_JS
    default y
	bool "Minify JS"
	help
        minify javascript files like boot.js

config BR2_PACKAGE_NETFLIX50_CREATE_BINARY_ML_DELIVERY
	bool "Create delivery package"
	help
        Create tarball containing the build to be deployed else where.

endmenu
endif
